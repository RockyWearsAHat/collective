{"version":3,"file":"viteExpress.js","sources":["../../plugins/viteExpress.ts"],"sourcesContent":["export default function express(path: string) {\n  return {\n    name: \"vite3-plugin-express\",\n    configureServer: async (server: any) => {\n      server.middlewares.use(async (req: any, res: any, next: any) => {\n        process.env[\"VITE\"] = \"true\";\n        try {\n          const { app } = await server.ssrLoadModule(path);\n          app(req, res, next);\n        } catch (err) {\n          console.error(err);\n        }\n      });\n    }\n  };\n}\n"],"names":[],"mappings":"AAAwB,SAAA,OAAO,CAAC,IAAY,EAAA;IAC1C,OAAO;AACL,QAAA,IAAI,EAAE,sBAAsB;AAC5B,QAAA,eAAe,EAAE,OAAO,MAAW,KAAI;AACrC,YAAA,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,GAAQ,EAAE,GAAQ,EAAE,IAAS,KAAI;AAC7D,gBAAA,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,MAAM,CAAC;AAC7B,gBAAA,IAAI;oBACF,MAAM,EAAE,GAAG,EAAE,GAAG,MAAM,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;AACjD,oBAAA,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;iBACrB;gBAAC,OAAO,GAAG,EAAE;AACZ,oBAAA,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;iBACpB;AACH,aAAC,CAAC,CAAC;SACJ;KACF,CAAC;AACJ;;;;"}