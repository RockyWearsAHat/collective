{"version":3,"file":"server.js","sources":["../../server/server.ts"],"sourcesContent":["import Express, { Response, Request } from \"express\";\n\nimport apiRouter from \"./masterAPIRouter\";\n\nexport const app = Express();\n\napp.use(Express.json());\napp.use(Express.urlencoded({ extended: true }));\n\napp.use(\"/api\", apiRouter);\n\nif (!process.env[\"VITE\"]) {\n  const frontendFiles = process.cwd() + \"/build/\";\n  app.use(Express.static(frontendFiles));\n\n  app.get(\"/*\", (_: Request, res: Response) => {\n    res.sendFile(\"index.html\", { root: frontendFiles });\n  });\n  app.listen(process.env[\"PORT\"] ? process.env[\"PORT\"] : 4000);\n  console.log(\n    !process.env[\"PORT\"] ? \"Server started on http://localhost:4000\" : \"\"\n  );\n}\n"],"names":["apiRouter"],"mappings":";;;AAIa,MAAA,GAAG,GAAG,OAAO,GAAG;AAE7B,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC;AACxB,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;AAEhD,GAAG,CAAC,GAAG,CAAC,MAAM,EAAEA,MAAS,CAAC,CAAC;AAE3B,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE;IACxB,MAAM,aAAa,GAAG,OAAO,CAAC,GAAG,EAAE,GAAG,SAAS,CAAC;IAChD,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC;IAEvC,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,CAAU,EAAE,GAAa,KAAI;QAC1C,GAAG,CAAC,QAAQ,CAAC,YAAY,EAAE,EAAE,IAAI,EAAE,aAAa,EAAE,CAAC,CAAC;AACtD,KAAC,CAAC,CAAC;IACH,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,CAAC;AAC7D,IAAA,OAAO,CAAC,GAAG,CACT,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,yCAAyC,GAAG,EAAE,CACtE,CAAC;AACJ;;;;"}