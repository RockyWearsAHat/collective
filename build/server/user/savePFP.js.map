{"version":3,"file":"savePFP.js","sources":["../../../server/user/savePFP.ts"],"sourcesContent":["import { Router, Request, Response } from \"express\";\nimport multer from \"multer\";\n\nconst router = Router();\n\nconst generateFileName = (file: Express.Multer.File) => {\n  return `${Date.now()}-${file.originalname}`;\n};\n\nconst storage = multer.diskStorage({\n  destination: (_req, _file, cb) => {\n    cb(null, \"./uploads/\");\n  },\n  filename: (_req, file, cb) => {\n    cb(null, generateFileName(file));\n  }\n});\n\nconst uploadFile = multer({ storage: storage });\n\nconst savePFP = async (req: Request, res: Response) => {\n  let file = req.file;\n\n  console.log(file);\n\n  return res.json({ message: \"PFP saved\" });\n};\n\nrouter.post(\"/\", uploadFile.single(\"newPFP\"), savePFP);\n\nexport default router;\n"],"names":[],"mappings":";;;AAGA,MAAM,MAAM,GAAG,MAAM,GAAG;AAExB,MAAM,gBAAgB,GAAG,CAAC,IAAyB,KAAI;IACrD,OAAO,CAAA,EAAG,IAAI,CAAC,GAAG,EAAE,IAAI,IAAI,CAAC,YAAY,CAAA,CAAE,CAAC;AAC9C,CAAC,CAAC;AAEF,MAAM,OAAO,GAAG,MAAM,CAAC,WAAW,CAAC;IACjC,WAAW,EAAE,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE,KAAI;AAC/B,QAAA,EAAE,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC;KACxB;IACD,QAAQ,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE,KAAI;QAC3B,EAAE,CAAC,IAAI,EAAE,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC;KAClC;AACF,CAAA,CAAC,CAAC;AAEH,MAAM,UAAU,GAAG,MAAM,CAAC,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC,CAAC;AAEhD,MAAM,OAAO,GAAG,OAAO,GAAY,EAAE,GAAa,KAAI;AACpD,IAAA,IAAI,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;AAEpB,IAAA,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAElB,OAAO,GAAG,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,WAAW,EAAE,CAAC,CAAC;AAC5C,CAAC,CAAC;AAEF,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,OAAO,CAAC;;;;"}